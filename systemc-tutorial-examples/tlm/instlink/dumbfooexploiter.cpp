
#include "systemc.h"

#include "fooif.hpp"

/*
 * This module makes use of another module providing a foo_if
 * interface.
 * It doesn't implement any interface itself, as it is pure active:
 * it doesn't provide service to anything.
 *
 * DumbFooExploiter issues one "doit()" request to its foo server.
 */
class DumbFooExploiter : public sc_module {
    public:
        sc_port<foo_if> foo;        // module port

        // module constructor -- defined through SystemC' SC_CTOR macro
        SC_CTOR(DumbFooExploiter) {
            // threading the function "act()"
            SC_THREAD(act);
        }

        // module activity function
        void act() {
            // issue one doit() request to the foo port, and terminate
            foo->doit(123);
        }
};

